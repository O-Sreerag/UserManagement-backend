{"version":3,"sources":["../src/next.ts"],"sourcesContent":["import type { NextRequest } from \"next/server\";\n\nimport type { Json } from \"@uploadthing/shared\";\n\nimport type { RouterWithConfig } from \"./internal/handler\";\nimport type { FileRouter } from \"./internal/types\";\nimport type { CreateBuilderOptions } from \"./internal/upload-builder\";\nimport { createBuilder } from \"./internal/upload-builder\";\nimport { INTERNAL_DO_NOT_USE_createRouteHandlerCore } from \"./server\";\n\nexport type { FileRouter };\n\nexport const createUploadthing = <TErrorShape extends Json>(\n  opts?: CreateBuilderOptions<TErrorShape>,\n) =>\n  createBuilder<\n    { req: NextRequest; res: undefined; event: undefined },\n    TErrorShape\n  >(opts);\n\nexport const createRouteHandler = <TRouter extends FileRouter>(\n  opts: RouterWithConfig<TRouter>,\n) => {\n  const handlers = INTERNAL_DO_NOT_USE_createRouteHandlerCore(\n    opts,\n    \"nextjs-app\",\n  );\n\n  return {\n    POST: (req: NextRequest) => handlers.POST(req),\n    GET: (req: NextRequest) => handlers.GET(req),\n  };\n};\n\n/**\n * @deprecated Use {@link createRouteHandler} instead\n */\nexport const createNextRouteHandler = createRouteHandler;\n"],"mappings":";;;;;;;;;;;AAYO,IAAM,oBAAoB,CAC/B,SAEA,cAGE,IAAI;AAED,IAAM,qBAAqB,CAChC,SACG;AACH,QAAM,WAAW;AAAA,IACf;AAAA,IACA;AAAA,EACF;AAEA,SAAO;AAAA,IACL,MAAM,CAAC,QAAqB,SAAS,KAAK,GAAG;AAAA,IAC7C,KAAK,CAAC,QAAqB,SAAS,IAAI,GAAG;AAAA,EAC7C;AACF;AAKO,IAAM,yBAAyB;","names":[]}